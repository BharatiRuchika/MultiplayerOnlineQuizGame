{"ast":null,"code":"var _jsxFileName = \"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/src/components/Home/Login.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox'; // import Link from '@mui/material/Link';\n\nimport { Link } from 'react-router-dom';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Copyright(props) {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"text.secondary\",\n    align: \"center\",\n    ...props,\n    children: ['Copyright Â© ', /*#__PURE__*/_jsxDEV(Link, {\n      color: \"inherit\",\n      href: \"https://mui.com/\",\n      children: \"Your Website\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), ' ', new Date().getFullYear(), '.']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Copyright;\nconst theme = createTheme();\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nexport default function SignIn() {\n  _s();\n\n  var history = useHistory();\n  const [Email, setEmail] = React.useState(false);\n  const [Password, setPassword] = React.useState(false);\n  const [State, setState] = React.useState({\n    email: \"\",\n    password: \"\",\n    errors: {\n      email: \"\",\n      password: \"\",\n      loginerror: false\n    }\n  });\n\n  const handleChange = async event => {\n    console.log(event);\n    const {\n      name,\n      value\n    } = event.target;\n    let errors = State.errors;\n    errors.loginerror = false;\n    console.log(\"name\", name);\n    console.log(\"value\", value);\n    console.log(\"errors\", errors);\n\n    switch (name) {\n      case \"email\":\n        {\n          if (value.length == 0) {\n            errors.email = \"email cant be empty\";\n          } else errors.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n\n          break;\n        }\n\n      case \"password\":\n        {\n          if (value.length == 0) {\n            errors.password = \"password cant be empty\";\n          } else {\n            errors.password = \"\";\n          }\n\n          break;\n        }\n    }\n\n    setState({ ...State,\n      [name]: value,\n      errors: errors\n    });\n    setEmail(false);\n    setPassword(false);\n  };\n\n  const handleSubmit = async event => {\n    console.log(\"handlesubmit called\");\n    event.preventDefault();\n    const data = new FormData(event.currentTarget); // eslint-disable-next-line no-console\n\n    console.log(\"state\", State);\n    let errors = State.errors;\n    console.log(\"errors\", errors);\n    let {\n      email,\n      password\n    } = errors;\n\n    if (email != \"\" || password != \"\" || State.email == \"\" || State.password == \"\") {\n      console.log(\"im here\");\n      errors.loginerror = true;\n      setState({ ...State,\n        errors: errors\n      });\n    } else {\n      console.log({\n        email: data.get('email'),\n        password: data.get('password')\n      });\n      var response = await axios.post(\"http://localhost:3001/users/validateUser\", {\n        email: data.get(\"email\"),\n        password: data.get(\"password\")\n      });\n      console.log(\"response\", response);\n\n      if (response.data.authToken) {\n        console.log(\"authtoken\", response.data.authToken);\n        var id = response.data.user._id;\n        localStorage.setItem(\"token\", response.data.authToken);\n        history.push(`/host/${id}`);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            m: 1,\n            bgcolor: 'secondary.main'\n          },\n          children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          noValidate: true,\n          onSubmit: handleSubmit,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            onChange: handleChange,\n            label: \"Email Address\",\n            name: \"email\",\n            autoComplete: \"email\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: State.errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            onChange: handleChange,\n            autoComplete: \"current-password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: State.errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/users/signup\",\n                className: \"btn-link\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  style: {\n                    cursor: 'alias',\n                    color: 'blue'\n                  },\n                  children: \"   Don't have an account? Sign Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Copyright, {\n        sx: {\n          mt: 8,\n          mb: 4\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignIn, \"Fsg5v8DX/vFzKvlhTWuEWgnjGJ8=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = SignIn;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"SignIn\");","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/src/components/Home/Login.js"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","Container","axios","useHistory","createTheme","ThemeProvider","Copyright","props","Date","getFullYear","theme","validEmailRegex","RegExp","SignIn","history","Email","setEmail","useState","Password","setPassword","State","setState","email","password","errors","loginerror","handleChange","event","console","log","name","value","target","length","test","handleSubmit","preventDefault","data","FormData","currentTarget","get","response","post","authToken","id","user","_id","localStorage","setItem","push","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","color","mb","cursor"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\n// import Link from '@mui/material/Link';\nimport { Link } from 'react-router-dom';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport axios from 'axios';\nimport {useHistory} from \"react-router-dom\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright Â© '}\n      <Link color=\"inherit\" href=\"https://mui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst theme = createTheme();\nconst validEmailRegex = \n  RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nexport default function SignIn() {\n  var history = useHistory();\n  const [Email,setEmail] = React.useState(false);\n  const [Password,setPassword] = React.useState(false);\n  const [State,setState ] = React.useState({\n    email:\"\",\n    password:\"\",\n    errors:{\n      email:\"\",\n      password:\"\",\n      loginerror:false\n    }\n  })\n  const handleChange = async(event)=>{\n    console.log(event);\n    const { name, value } = event.target;\n    let errors = State.errors;\n    errors.loginerror = false;\n    console.log(\"name\",name);\n    console.log(\"value\",value);\n    console.log(\"errors\",errors);\n    switch(name){\n      case \"email\":{\n        if(value.length==0){\n          errors.email = \"email cant be empty\";\n        }else\n        errors.email =  validEmailRegex.test(value)\n        ? ''\n        : 'Email is not valid!';\n        break;\n      }\n      case \"password\":{\n        if(value.length==0){\n          errors.password = \"password cant be empty\";\n        }else{\n          errors.password = \"\"\n        }\n        break;\n    }\n  }\n    setState({...State,[name]:value,errors:errors});\n    setEmail(false);\n    setPassword(false);\n  }\n\n  const handleSubmit = async(event) => {\n    console.log(\"handlesubmit called\");\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    // eslint-disable-next-line no-console\n    console.log(\"state\",State);\n    let errors = State.errors;\n    console.log(\"errors\",errors);\n    let {email,password} = errors;\n    if(email!=\"\"||password!=\"\"||State.email==\"\"||State.password==\"\"){\n      console.log(\"im here\");\n      errors.loginerror = true;\n      setState({...State,errors:errors});\n    }else{\n    console.log({\n      email: data.get('email'),\n      password: data.get('password'),\n    });\n   \n    var response = await axios.post(\"http://localhost:3001/users/validateUser\",{email:data.get(\"email\"),password:data.get(\"password\")});\n    console.log(\"response\",response);\n  \n    if(response.data.authToken){\n      console.log(\"authtoken\",response.data.authToken);\n      var id = response.data.user._id;\n      localStorage.setItem(\"token\",response.data.authToken);\n      history.push(`/host/${id}`);\n    }\n   \n  }\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n         \n          <Box component=\"form\" noValidate onSubmit={handleSubmit}  sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              onChange={handleChange}\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <span style={{color:'red'}}>{State.errors.email}</span>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              onChange={handleChange}\n              autoComplete=\"current-password\"\n            />\n          <span style={{color:'red'}}>{State.errors.password}</span>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign In\n            </Button>\n           \n            <Grid container>\n              <Grid item xs>\n               \n              </Grid>\n              <Grid item>\n              <Link to='/users/signup' className='btn-link'>\n                <b style={{cursor:'alias',color:'blue'}}>   Don't have an account? Sign Up</b>\n                 </Link>\n\n               \n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n        <Copyright sx={{ mt: 8, mb: 4 }} />\n      </Container>\n    </ThemeProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}