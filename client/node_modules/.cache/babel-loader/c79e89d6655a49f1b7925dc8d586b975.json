{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";// import { makeStyles } from \"@material-ui/core/styles\";\n// import { styled } from '@mui/material/styles';\nimport axios from\"axios\";import{Link,useParams}from'react-router-dom';import{Redirect}from'react-router-dom';// import { styled } from '@mui/material/styles';\nimport{useHistory}from\"react-router-dom\";import{connect}from'react-redux';// import New_Quiz from \"./New_Quiz\";\nimport AddAnswersComponent2 from\"./AddAnswersComponent2\";// import {editingQuiz,selectedQuiz} from './Reducer';\nimport{selectedQuiz,editingQuiz}from'../../Reducer/Reducer';// import {Redirect}from \"react-router-dom\"\n// import Card from '@mui/material/Card';\n// import CardContent from '@mui/material/CardContent';\n// import CardMedia from '@mui/material/CardMedia';\n// import Typography from '@mui/material/Typography';\nimport'./Host.css';import'./Host-Question.css';import Kwizz from\"../../Assets/Kwizz.svg\";import jwt from\"jsonwebtoken\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function QuizComponent(props){var _useParams=useParams(),userId=_useParams.userId;console.log(\"userId\",userId);var history=useHistory();var token=localStorage.getItem(\"token\");var _useState=useState({quizList:[],redirect:false//    newQuiz:false\n}),_useState2=_slicedToArray(_useState,2),quiz=_useState2[0],setQuiz=_useState2[1];useEffect(function(){console.log(\"im in quiz component\");console.log(\"myprops\",props);// var decoded = jwt.decode(token);\n// if(decoded.exp*1000<=Date.now()){\n//     this.props.history.push(\"/users/login\");\n// }else{\ngetQuizzes();// }\n},[]);var getQuizzes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(\"user_id\",userId);\nconsole.log(\"token\",token);_context.next=3;return axios.get(\"https://multiplayer-online-quiz-game.vercel.app/quiz/getQuizzes\",{headers:{'auth-token':token}});case 3:response=_context.sent;console.log(\"quizData\",response.data);setQuiz(_objectSpread(_objectSpread({},quiz),{},{quizList:response.data}));case 6:case\"end\":return _context.stop();}}},_callee);}));return function getQuizzes(){return _ref.apply(this,arguments);};}();// const handleClick = async(id)=>{\n//     console.log(\"im here\");\n//     console.log(\"id\",id);\n//     history.push(`/questions/${id}`);\n// }\n// const createQuiz = async()=>{\n//     history.push(`/createQuiz`);\n// }\nvar setRedirect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://multiplayer-online-quiz-game.vercel.app/quizquestions/getQuestions/\".concat(e._id),{headers:{'auth-token':token}});case 2:response=_context2.sent;console.log(\"response\",response);if(response.data.length==0){alert(\"please add atleast one question in quiz\");}else{console.log(\"setRedirect\");console.log(\"props\",props);props.selectedQuiz(e);setQuiz(_objectSpread(_objectSpread({},quiz),{},{redirect:true}));}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function setRedirect(_x){return _ref2.apply(this,arguments);};}();// const setNewQuiz = ()=>{\n//     console.log(\"setnewQuiz\");\n//     setQuiz({...quiz,newQuiz: true})\n// }\nvar setDone=function setDone(){console.log(\"im here\");};var deleteQuiz=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"deleteQuiz\");console.log(\"id\",id);// var decoded = jwt.decode(token);\n// if(decoded.exp*1000<=Date.now()){\n//     props.history.push(\"/users/login\");\n// }else{\n_context3.next=4;return axios.delete(\"https://multiplayer-online-quiz-game.vercel.app/deleteQuiz/\".concat(id),{headers:{'auth-token':token}});case 4:res=_context3.sent;if(res.status===200){getQuizzes();}else{alert('Something went wrong :(');}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteQuiz(_x2){return _ref3.apply(this,arguments);};}();if(quiz.redirect){return/*#__PURE__*/_jsx(Redirect,{to:\"/game/\".concat(userId)});}var quizzes=quiz.quizList;console.log(\"quizzes\",quizzes);var mappedQuizzes=quizzes.map(function(quiz){return/*#__PURE__*/_jsxs(\"div\",{className:\"kwizz-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"kwizz-info kwizz-title\",children:quiz.quizName}),/*#__PURE__*/_jsx(\"p\",{className:\"kwizz-info kwizz-desc\",children:quiz.quizDescription}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setRedirect(quiz);},className:\"btn-play\",children:\"Play\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteQuiz(quiz._id);},className:\"btn-play\",children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/quiz/questions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return props.editingQuiz(quiz);},className:\"btn-play\",children:\"Edit\"})})]})]},quiz._id);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mapped-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-done-div\",children:/*#__PURE__*/_jsx(Link,{to:\"/users/login\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){localStorage.removeItem(\"token\");},className:\"btn-play btn-done\",children:\"Logout\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"host-logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:Kwizz,alt:\"kwizz logo\",className:\"logo\"})}),/*#__PURE__*/_jsx(Link,{to:\"/users/newQuiz/\".concat(userId),children:/*#__PURE__*/_jsx(\"div\",{className:\"newKwizz\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-new\",children:\"New Kwizz!\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mapped-Kwizzes-container\",children:mappedQuizzes})]}),\")\"]});}// function mapStateToProps(state) {\n//     return {\n//         quizToEdit: state.quizToEdit\n//     }\n// }\nexport default connect(null,{selectedQuiz:selectedQuiz,editingQuiz:editingQuiz})(QuizComponent);// export default connect(mapStateToProps, { selectedQuiz,editingQuiz })(QuizComponent)\n// export default QuizComponent;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/src/components/Host/QuizComponent.js"],"names":["React","useEffect","useState","axios","Link","useParams","Redirect","useHistory","connect","AddAnswersComponent2","selectedQuiz","editingQuiz","jwt","QuizComponent","props","userId","console","log","history","token","localStorage","getItem","quizList","redirect","quiz","setQuiz","getQuizzes","get","headers","response","data","setRedirect","e","_id","length","alert","setDone","deleteQuiz","id","delete","res","status","quizzes","mappedQuizzes","map","quizName","quizDescription","removeItem","Kwizz"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from \"react\";\n// import { makeStyles } from \"@material-ui/core/styles\";\n// import { styled } from '@mui/material/styles';\nimport axios from \"axios\";\nimport {Link,useParams} from 'react-router-dom';\nimport {Redirect} from 'react-router-dom';\n// import { styled } from '@mui/material/styles';\nimport { useHistory, } from \"react-router-dom\";\nimport {connect} from 'react-redux';\n// import New_Quiz from \"./New_Quiz\";\nimport AddAnswersComponent2 from \"./AddAnswersComponent2\";\n// import {editingQuiz,selectedQuiz} from './Reducer';\nimport {selectedQuiz, editingQuiz} from '../../Reducer/Reducer';\n// import {Redirect}from \"react-router-dom\"\n// import Card from '@mui/material/Card';\n// import CardContent from '@mui/material/CardContent';\n// import CardMedia from '@mui/material/CardMedia';\n// import Typography from '@mui/material/Typography';\nimport './Host.css';\nimport './Host-Question.css';\nimport Kwizz from '../../Assets/Kwizz.svg';\nimport jwt from \"jsonwebtoken\";\nfunction QuizComponent(props){\n    const { userId } = useParams();\n    console.log(\"userId\",userId);\n    var history = useHistory();\n    const token = localStorage.getItem(\"token\");\n    const [quiz,setQuiz] = useState({\n       quizList:[],\n       redirect:false,\n    //    newQuiz:false\n    });\n    useEffect(()=>{\n        console.log(\"im in quiz component\");\n        console.log(\"myprops\",props);\n        // var decoded = jwt.decode(token);\n        // if(decoded.exp*1000<=Date.now()){\n        //     this.props.history.push(\"/users/login\");\n        // }else{\n            getQuizzes();\n        // }\n    },[])\n    const getQuizzes=async()=>{\n        // console.log(\"user_id\",userId);\n        console.log(\"token\",token);\n        var response = await axios.get(`https://multiplayer-online-quiz-game.vercel.app/quiz/getQuizzes`,{\n            headers:{\n                'auth-token':token\n            }\n            });\n        console.log(\"quizData\",response.data)\n        setQuiz({...quiz,quizList:response.data})\n    }\n    // const handleClick = async(id)=>{\n    //     console.log(\"im here\");\n    //     console.log(\"id\",id);\n    //     history.push(`/questions/${id}`);\n    // }\n    // const createQuiz = async()=>{\n    //     history.push(`/createQuiz`);\n    // }\n    const setRedirect = async(e)=>{\n        var response = await axios.get(`https://multiplayer-online-quiz-game.vercel.app/quizquestions/getQuestions/${e._id}`,{\n            headers:{\n              'auth-token':token\n            }\n          });\n          console.log(\"response\",response);\n          if(response.data.length==0){\n              alert(\"please add atleast one question in quiz\");\n          }else{\n            console.log(\"setRedirect\");\n            console.log(\"props\",props);\n            props.selectedQuiz(e);\n            setQuiz({...quiz,redirect: true})\n          }\n       \n    }\n    // const setNewQuiz = ()=>{\n    //     console.log(\"setnewQuiz\");\n    //     setQuiz({...quiz,newQuiz: true})\n    // }\n    const setDone = ()=>{\n        console.log(\"im here\");\n    }\n    const deleteQuiz = async(id)=>{\n        console.log(\"deleteQuiz\");\n        console.log(\"id\",id)\n        // var decoded = jwt.decode(token);\n        // if(decoded.exp*1000<=Date.now()){\n        //     props.history.push(\"/users/login\");\n        // }else{\n       var res =  await axios.delete(`https://multiplayer-online-quiz-game.vercel.app/deleteQuiz/${id}`,{\n           headers:{\n               'auth-token':token\n           }\n       })\n            if (res.status === 200){\n                getQuizzes();\n            } else{\n                alert('Something went wrong :(')\n            }\n    }\n   \n   \n  \n    if (quiz.redirect){\n        return <Redirect to={`/game/${userId}`}/>\n     }\n   \n     let quizzes = quiz.quizList;\n     console.log(\"quizzes\",quizzes)\n     let mappedQuizzes=quizzes.map(quiz => {\n        return (\n            <div key={quiz._id} className='kwizz-container'>\n        <h1 className='kwizz-info kwizz-title'>{quiz.quizName}</h1>\n        <p className='kwizz-info kwizz-desc'>{quiz.quizDescription}</p>\n            <div className='btn-container' >\n                <button onClick={() => setRedirect(quiz)} className='btn-play'>Play</button>\n                <button onClick={() =>  deleteQuiz(quiz._id)} className='btn-play' >Delete</button>\n            <Link to={`/quiz/questions`}>\n            <button onClick={()=> props.editingQuiz(quiz)} className='btn-play' >Edit</button>\n            </Link>\n            </div> \n        </div>)\n     })\n    return (<>\n     \n    \n                            \n    <div className='mapped-container' >\n    <div className='btn-done-div'>\n                                <Link to='/users/login'>\n                                    <button onClick={()=>{\n                                        localStorage.removeItem(\"token\")\n                                    }}className='btn-play btn-done' >Logout</button>\n                                </Link>\n                            </div>\n        <div className='host-logo-container'>\n            <img src={Kwizz} alt='kwizz logo' className='logo'/>\n        </div> \n        <Link to={`/users/newQuiz/${userId}`}>\n        <div className='newKwizz'>\n       \n            <button className='btn-new'>New Kwizz!</button>\n           \n        </div> \n        </Link>\n        <div className='mapped-Kwizzes-container' >\n        {mappedQuizzes}\n        </div> \n    </div> \n)\n\n   \n\n</>)\n     \n}\n// function mapStateToProps(state) {\n//     return {\n//         quizToEdit: state.quizToEdit\n//     }\n// }\nexport default connect(null, {selectedQuiz, editingQuiz})(QuizComponent);\n\n// export default connect(mapStateToProps, { selectedQuiz,editingQuiz })(QuizComponent)\n// export default QuizComponent;"]},"metadata":{},"sourceType":"module"}