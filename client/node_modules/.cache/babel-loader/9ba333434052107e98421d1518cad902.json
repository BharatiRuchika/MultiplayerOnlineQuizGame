{"ast":null,"code":"import _classCallCheck from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{io}from'socket.io-client';import Socket from\"../../Socket\";import PlayerQuestions from'./Player_Questions';import PlayerQuestionOver from'./Player_Question_Over';import'./Game.css';import Player_Game_Over from'./Player_Game_Over';import load from\"../../Assets/load-circle-outline.svg\";// import sound from '../../Assets/ting.mp3';\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Player=/*#__PURE__*/function(_Component){_inherits(Player,_Component);var _super=_createSuper(Player);function Player(props){var _this;_classCallCheck(this,Player);_this=_super.call(this,props);_this.state={pinCorrect:false,gameStarted:false,gameOver:false,questionOver:false,answerSubmitted:false,answeredCorrect:false,score:0,conn:0};_this.submitAnswer=_this.submitAnswer.bind(_assertThisInitialized(_this));_this.leaveRoom=_this.leaveRoom.bind(_assertThisInitialized(_this));return _this;}_createClass(Player,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var connectionOptions={\"force new connection\":true,\"reconnect\":true,\"reconnectionAttempts\":\"Infinity\",\"timeout\":10000,\"transports\":[\"websocket\"]};console.log(\"socket\",this.Socket);console.log(\"im here\");console.log(\"props\",this.props);console.log(\"props\",typeof this.props.selectedPin);var pin=parseInt(this.props.selectedPin);console.log(\"intprops\",typeof pin);Socket.emit('player-joined',this.props);Socket.emit('player-add',this.props);console.log(\"player added\");Socket.on('question-over',function(){console.log(\"question over call\");_this2.setState({questionOver:true});});Socket.on(\"game-over\",function(){_this2.setState({gameOver:true});});Socket.on('next-question',function(){_this2.setState({gameStarted:true,questionOver:false,answerSubmitted:false,answeredCorrect:false});});Socket.on('sent-info',function(data){console.log(\"sent-info\",data);console.log(_this2.state.score);_this2.setState({answeredCorrect:data.answeredCorrect,score:_this2.state.score+data.score});});}},{key:\"submitAnswer\",value:function submitAnswer(num){console.log(\"submit answer call\");console.log(\"num\",num);console.log(\"props\",this.props);Socket.emit('question-answered',{name:this.props.nickname,answer:num,pin:this.props.selectedPin});this.setState({answerSubmitted:true});}},{key:\"leaveRoom\",value:function leaveRoom(){Socket.emit('destroy',this.props.selectedPin);this.props.history.push(\"/\");}},{key:\"render\",value:function render(){console.log(this.props);var _this$state=this.state,gameStarted=_this$state.gameStarted,questionOver=_this$state.questionOver,answerSubmitted=_this$state.answerSubmitted,gameOver=_this$state.gameOver;return/*#__PURE__*/_jsxs(\"div\",{className:\"player-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-bar\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"player-info\",id:\"pin\",children:[\"PIN:\",this.props.selectedPin]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.leaveRoom,children:\"Leave room\"})]}),!gameStarted&&!questionOver&&!gameOver?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"You're in!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you see your nickname on the screen?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"answer-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" q-blank q\"}),/*#__PURE__*/_jsx(\"div\",{className:\" q-blank q\"}),/*#__PURE__*/_jsx(\"div\",{className:\" q-blank q\"}),/*#__PURE__*/_jsx(\"div\",{className:\" q-blank q\"})]})]}):gameStarted&&!questionOver&&!answerSubmitted&&!gameOver?/*#__PURE__*/_jsx(PlayerQuestions,{submitAnswer:this.submitAnswer}):gameStarted&&!questionOver&&answerSubmitted&&!gameOver?/*#__PURE__*/_jsxs(\"div\",{className:\"waiting-for-results\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"answer-indicator\",id:\"too-fast\",children:\"Did You answer too fast????\"}),/*#__PURE__*/_jsx(\"img\",{src:load,alt:\"\",className:\"load-circle\"})]}):gameStarted&&questionOver&&answerSubmitted&&!gameOver?/*#__PURE__*/_jsx(PlayerQuestionOver,{answeredCorrect:this.state.answeredCorrect}):/*#__PURE__*/_jsx(Player_Game_Over,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-bar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"player-info\",children:this.props.nickname}),/*#__PURE__*/_jsx(\"div\",{className:gameStarted&&!questionOver&&answerSubmitted?'status-bar-hidden':'status-bar-score',children:this.state.score})]})]});}}]);return Player;}(Component);function mapStateToProps(state){console.log(\"state\",state);return{selectedPin:state.selectedPin,nickname:state.nickname};}export default connect(mapStateToProps)(Player);","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/src/components/Game/Player.js"],"names":["React","Component","connect","io","Socket","PlayerQuestions","PlayerQuestionOver","Player_Game_Over","Player","props","state","pinCorrect","gameStarted","gameOver","questionOver","answerSubmitted","answeredCorrect","score","conn","submitAnswer","bind","leaveRoom","connectionOptions","console","log","selectedPin","pin","parseInt","emit","on","setState","data","num","name","nickname","answer","history","push","load","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {io} from 'socket.io-client';\nimport Socket from \"../../Socket\";\nimport PlayerQuestions from './Player_Questions';\nimport PlayerQuestionOver from './Player_Question_Over';\nimport './Game.css';\nimport Player_Game_Over from './Player_Game_Over';\nimport load from '../../Assets/load-circle-outline.svg'\n// import sound from '../../Assets/ting.mp3';\nclass Player extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            pinCorrect: false,\n            gameStarted: false,\n            gameOver:false,\n            questionOver: false,\n            answerSubmitted: false,\n            answeredCorrect: false,\n            score: 0,\n            conn:0\n        }\n        this.submitAnswer = this.submitAnswer.bind(this);\n        this.leaveRoom = this.leaveRoom.bind(this);\n        \n   \n    }\n    componentDidMount() {\n      \n        var connectionOptions = {\n            \"force new connection\" : true,\n            \"reconnect\":true,\n            \"reconnectionAttempts\": \"Infinity\",\n            \"timeout\" : 10000,\t\t\t\t\n            \"transports\" : [\"websocket\"]\n        };\n       \n        console.log(\"socket\",this.Socket);\n      \n        console.log(\"im here\");\n        console.log(\"props\",this.props);\n        console.log(\"props\",typeof this.props.selectedPin);\n        var pin = parseInt(this.props.selectedPin);\n        console.log(\"intprops\",typeof pin);\n        Socket.emit('player-joined', this.props);\n        Socket.emit('player-add', this.props)\n        console.log(\"player added\");\n        Socket.on('question-over', () => {\n            console.log(\"question over call\");\n            this.setState({\n                questionOver: true\n            })\n        })\n        Socket.on(\"game-over\",()=>{\n            this.setState({\n                gameOver: true\n            })\n        })\n        Socket.on('next-question', () => {\n            this.setState({\n                gameStarted: true,\n                questionOver: false,\n                answerSubmitted: false,\n                answeredCorrect: false\n            })\n        })\n        Socket.on('sent-info', data => {\n            console.log(\"sent-info\",data);\n            console.log(this.state.score);\n            this.setState({\n              answeredCorrect: data.answeredCorrect,\n              score: this.state.score + data.score\n            })\n        })\n      \n    }\n    submitAnswer(num){ \n        console.log(\"submit answer call\");\n        console.log(\"num\",num);\n        console.log(\"props\",this.props);\n        Socket.emit('question-answered', {name: this.props.nickname, answer: num, pin: this.props.selectedPin})\n        this.setState({\n            answerSubmitted: true\n        })\n    }\n    leaveRoom(){\n        Socket.emit('destroy',this.props.selectedPin); \n        this.props.history.push(\"/\");\n    }\n    render() {\n        console.log(this.props)\n        let { gameStarted, questionOver, answerSubmitted ,gameOver} = this.state;\n        return (\n            <div className='player-container' >\n                <div className='status-bar'>\n                    <p className='player-info' id='pin' >PIN:{this.props.selectedPin}</p>\n                    <button onClick={this.leaveRoom}>Leave room</button>\n                </div> \n                 \n                {\n                    !gameStarted && !questionOver && !gameOver\n                    ?\n                    <div>\n                            <p>You're in!\n                             <br />\n                                Do you see your nickname on the screen?\n                            </p>\n                             <div className='answer-container'>\n                                    <div className=' q-blank q'></div> \n                                    <div className=' q-blank q'></div> \n                                    <div className=' q-blank q'></div> \n                                    <div className=' q-blank q'></div> \n                             </div> \n                        </div>\n                        :\n                        gameStarted && !questionOver && !answerSubmitted && !gameOver\n                        ?\n                        <PlayerQuestions submitAnswer ={this.submitAnswer} />\n                        :\n                        gameStarted && !questionOver && answerSubmitted && !gameOver\n                        ?\n                        <div className='waiting-for-results' >\n                            <p className='answer-indicator' id= 'too-fast'>Did You answer too fast????</p>\n                            <img src={load} alt='' className='load-circle' />\n                        </div> \n                        :\n                        gameStarted && questionOver && answerSubmitted && !gameOver\n                        ?\n                        <PlayerQuestionOver\n                         answeredCorrect={this.state.answeredCorrect}\n                        />\n                        :\n                        <Player_Game_Over/>\n                    }\n                    <div className='status-bar' >\n                    \n                    <p className='player-info'>{this.props.nickname}</p>\n                    <div \n                        className={ \n                          gameStarted && !questionOver && answerSubmitted\n                          ?\n                          'status-bar-hidden'\n                          :\n                          'status-bar-score'\n                        }\n                         >{this.state.score}</div> \n                    </div> \n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    console.log(\"state\",state);\n    return {\n        selectedPin: state.selectedPin,\n        nickname: state.nickname\n    }\n}\n\nexport default connect(mapStateToProps)(Player);"]},"metadata":{},"sourceType":"module"}