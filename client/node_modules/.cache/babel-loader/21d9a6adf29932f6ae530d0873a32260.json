{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import*as React from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import{Link}from'react-router-dom';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import{useHistory}from'react-router-dom';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import validator from'validator';import{createTheme,ThemeProvider}from'@mui/material/styles';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Copyright(props){return/*#__PURE__*/_jsxs(Typography,_objectSpread(_objectSpread({variant:\"body2\",color:\"text.secondary\",align:\"center\"},props),{},{children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://mui.com/\",children:\"Your Website\"}),' ',new Date().getFullYear(),'.']}));}var theme=createTheme();var validEmailRegex=RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);export default function SignUp(){var history=useHistory();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),flag=_React$useState2[0],setFlag=_React$useState2[1];var _React$useState3=React.useState({firstName:\"\",lastName:\"\",email:\"\",password:\"\",cpassword:\"\",errors:{fname:\"\",lname:\"\",email:\"\",password:\"\",cpassword:\"\",signuperror:false}}),_React$useState4=_slicedToArray(_React$useState3,2),state=_React$useState4[0],setState=_React$useState4[1];var handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var _objectSpread2;var _ref$target,name,value,errors,password,cpassword;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;console.log(\"handlechange called\");console.log(\"value\",value);errors=state.errors;errors.signuperror=false;_context.t0=name;_context.next=_context.t0===\"firstName\"?8:_context.t0===\"lastName\"?10:_context.t0===\"email\"?12:_context.t0===\"password\"?14:_context.t0===\"cpassword\"?16:22;break;case 8:if(value.length==0){errors.fname=\"firstname cant be empty\";}else if(value.length<5){errors.fname='firstname should be atleast 5 charaters long';}else{errors.fname=\"\";}return _context.abrupt(\"break\",22);case 10:if(value.length==0){errors.lname=\"lastname  cant be empty\";}else if(value.length<5){errors.lname='lastname  should be atleast 5 charaters long';}else{errors.lname=\"\";}return _context.abrupt(\"break\",22);case 12:if(value.length==0){errors.email=\"email cant be empty\";}else errors.email=validEmailRegex.test(value)?'':'Email is not valid!';return _context.abrupt(\"break\",22);case 14:if(value.length==0){errors.password=\"password cant be empty\";}else errors.password=validator.isStrongPassword(value,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?'':\"password is weak\";return _context.abrupt(\"break\",22);case 16:console.log(state.password);console.log(state.cpassword);password=state.password;cpassword=state.cpassword;if(value.length==0){errors.cpassword=\"password cant be empty\";}else if(password==value){errors.cpassword='';}else{errors.cpassword=\"password and confirm password are not equal\";}return _context.abrupt(\"break\",22);case 22:console.log(\"errors\",errors);setState(_objectSpread(_objectSpread({},state),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,\"errors\",errors),_objectSpread2)));case 24:case\"end\":return _context.stop();}}},_callee);}));return function handleChange(_x){return _ref2.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var errors,fname,lname,email,password,cpassword,data,fname1,lname1,email1,password1,response,id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"handlesubmit called\");event.preventDefault();errors=state.errors;console.log(\"errors\",errors);fname=errors.fname,lname=errors.lname,email=errors.email,password=errors.password,cpassword=errors.cpassword;// let {fname,lname,email,password,cpassword} = state;\nif(!(fname!=\"\"||lname!=\"\"||email!=\"\"||password!=\"\"||cpassword!=\"\"||state.fname==\"\"||state.lname==\"\"||state.email==\"\"||state.password==\"\"||state.cpassword==\"\")){_context2.next=11;break;}console.log(\"im here\");errors.signuperror=true;setState(_objectSpread(_objectSpread({},state),{},{errors:errors}));_context2.next=22;break;case 11:// errors.signuperror = false;\n// setState({...state,errors:errors});\n// if(e_fname==\"\"&&e_lname==\"\"&&e_email==\"\"&&e_password==\"\"&&e_cpassword==\"\")\n// {\n//   errors.signuperror = false;\n//   setState({...state,errors:errors});\n// }\ndata=new FormData(event.currentTarget);// eslint-disable-next-line no-console\nconsole.log({email:data.get('email'),password:data.get('password')});fname1=data.get('firstName');lname1=data.get('lastName');email1=data.get('email');password1=data.get('password');_context2.next=19;return axios.post(\"https://secure-ravine-99917.herokuapp.com/users/addUser\",{fname:fname1,lname:lname1,email:email1,password:password1});case 19:response=_context2.sent;console.log(\"response\",response.data);if(response.data==\"user already exist\"){setFlag(true);}else{id=response.data._id;if(response.status==200){history.push(\"/host/\".concat(id));}}case 22:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[state.errors.signuperror?/*#__PURE__*/_jsx(\"h3\",{children:\"fill all information correctly\"}):\"\",/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,onSubmit:handleSubmit,sx:{mt:3},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(TextField,{autoComplete:\"given-name\",name:\"firstName\",required:true,fullWidth:true,id:\"firstName\",label:\"First Name\",autoFocus:true,onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:state.errors.fname})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,id:\"lastName\",label:\"Last Name\",name:\"lastName\",autoComplete:\"family-name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:state.errors.lname})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:state.errors.email})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"new-password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:state.errors.password})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,name:\"cpassword\",label:\"Confirm Password\",type:\"password\",id:\"cpassword\",autoComplete:\"new-password1\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:state.errors.cpassword})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Sign Up\"}),flag?/*#__PURE__*/_jsx(\"div\",{style:{color:'red',fontSize:'20px'},children:\"User already register\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{to:\"/users/login\",className:\"btn-link\",children:/*#__PURE__*/_jsx(\"b\",{style:{cursor:'alias',color:'blue'},children:\"   Already have an account? Sign in\"})})})})]})]}),/*#__PURE__*/_jsx(Copyright,{sx:{mt:5}})]})});}","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/src/components/Home/Signup.js"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","useHistory","Typography","Container","validator","createTheme","ThemeProvider","axios","Copyright","props","Date","getFullYear","theme","validEmailRegex","RegExp","SignUp","history","useState","flag","setFlag","firstName","lastName","email","password","cpassword","errors","fname","lname","signuperror","state","setState","handleChange","target","name","value","console","log","length","test","isStrongPassword","minLength","minLowercase","minUppercase","minNumbers","minSymbols","handleSubmit","event","preventDefault","data","FormData","currentTarget","get","fname1","lname1","email1","password1","post","response","id","_id","status","push","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","color","mb","fontSize","cursor"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport { Link } from 'react-router-dom';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport { useHistory } from 'react-router-dom';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport validator from 'validator'\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport axios from 'axios';\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://mui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst theme = createTheme();\nconst validEmailRegex = \n  RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\nexport default function SignUp() {\n  const history = useHistory();\n  const [flag,setFlag] = React.useState(false);\n  const [state,setState] = React.useState({\n    firstName:\"\",\n    lastName:\"\",\n    email:\"\",\n    password:\"\",\n    cpassword:\"\",\n    errors:{\n      fname:\"\",\n      lname:\"\",\n      email:\"\",\n      password:\"\",\n      cpassword:\"\",\n      signuperror:false\n    }\n  })\n  const handleChange = async({target:{name,value}})=>{\n    console.log(\"handlechange called\");\nconsole.log(\"value\",value);\n    let errors = state.errors;\n    errors.signuperror = false;\n    switch(name){\n      case \"firstName\":{\n        if(value.length==0){\n          errors.fname = \"firstname cant be empty\";\n        }else\n        if(value.length<5){\n          errors.fname = 'firstname should be atleast 5 charaters long';\n        }else{\n          errors.fname = \"\";\n        }\n       \n        break;\n      }\n      case \"lastName\":{ \n        if(value.length==0){\n        errors.lname = \"lastname  cant be empty\";\n      }else\n      if(value.length<5){\n        errors.lname = 'lastname  should be atleast 5 charaters long';\n      }else{\n        errors.lname = \"\";\n      }\n        \n        break;\n      }\n      case \"email\":{\n        if(value.length==0){\n          errors.email = \"email cant be empty\";\n        }else\n        errors.email =  validEmailRegex.test(value)\n        ? ''\n        : 'Email is not valid!';\n        break;\n      }\n      case \"password\":{\n        if(value.length==0){\n          errors.password = \"password cant be empty\";\n        }else\n        errors.password = validator.isStrongPassword(value, {\n          minLength: 8, minLowercase: 1,\n          minUppercase: 1, minNumbers: 1, minSymbols: 1\n        })?'':\"password is weak\";\n     \n        break;\n      }\n      case \"cpassword\":{\n        console.log(state.password);\n        console.log(state.cpassword);\n        var password = state.password;\n        var cpassword = state.cpassword;\n        if(value.length==0){\n          errors.cpassword = \"password cant be empty\";\n        }else\n        if(password==value){\n          errors.cpassword = '';\n          \n        }else{\n          errors.cpassword = \"password and confirm password are not equal\"\n        }\n        \n        break;\n      }\n    }\n    console.log(\"errors\",errors);\n    setState({...state,[name]:value,errors:errors});\n  }\n  const handleSubmit = async(event) => {\n    console.log(\"handlesubmit called\");\n    event.preventDefault();\n    let errors = state.errors;\n    console.log(\"errors\",errors);\n    let {fname,lname,email,password,cpassword} = errors;\n    // let {fname,lname,email,password,cpassword} = state;\n    if(fname!=\"\"||lname!=\"\"||email!=\"\"||password!=\"\"||cpassword!=\"\"||state.fname==\"\"||state.lname==\"\"||state.email==\"\"||state.password==\"\"||state.cpassword==\"\"){\n      console.log(\"im here\");\n      errors.signuperror = true;\n      setState({...state,errors:errors});\n    }else{\n      // errors.signuperror = false;\n      // setState({...state,errors:errors});\n    // if(e_fname==\"\"&&e_lname==\"\"&&e_email==\"\"&&e_password==\"\"&&e_cpassword==\"\")\n    // {\n    //   errors.signuperror = false;\n    //   setState({...state,errors:errors});\n    // }\n    const data = new FormData(event.currentTarget);\n    // eslint-disable-next-line no-console\n    console.log({\n      email: data.get('email'),\n      password: data.get('password'),\n    });\n    const fname1 = data.get('firstName');\n    const lname1 = data.get('lastName');\n    const email1 = data.get('email');\n    const password1 = data.get('password');\n  var response = await axios.post(\"https://secure-ravine-99917.herokuapp.com/users/addUser\",{fname:fname1,lname:lname1,email:email1,password:password1});\n      console.log(\"response\",response.data);\n     if(response.data ==\"user already exist\"){ \n       setFlag(true);\n     }else{\n       var id = response.data._id;\n   if(response.status==200 ){\n      history.push(`/host/${id}`);\n   }\n     }\n    }\n  };\n \n  return (\n   \n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n           {\n      state.errors.signuperror?<h3>fill all information correctly</h3>:\"\"\n    }\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete=\"given-name\"\n                  name=\"firstName\"\n                  required\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                  autoFocus\n                  onChange={handleChange}\n                />\n                  <span style={{color:'red'}}>{state.errors.fname}</span>\n              </Grid>\n            \n              <Grid item xs={12} sm={6}>\n                <TextField\n                  required\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  name=\"lastName\"\n                  autoComplete=\"family-name\"\n                  onChange={handleChange}\n                />\n                <span style={{color:'red'}}>{state.errors.lname}</span>\n              </Grid>\n              \n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  onChange={handleChange}\n                />\n                 <span style={{color:'red'}}>{state.errors.email}</span>\n              </Grid>\n             \n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"new-password\"\n                  onChange={handleChange}\n                />\n                 <span style={{color:'red'}}>{state.errors.password}</span>\n              </Grid>\n            \n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  name=\"cpassword\"\n                  label=\"Confirm Password\"\n                  type=\"password\"\n                  id=\"cpassword\"\n                  autoComplete=\"new-password1\"\n                  onChange={handleChange}\n                />\n                <span style={{color:'red'}}>{state.errors.cpassword}</span>\n              </Grid>\n             \n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign Up\n            </Button>\n            {\n     flag?<div style={{color:'red',fontSize:'20px'}}>User already register</div>:<></>}\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n              <Link to='/users/login' className='btn-link'>\n                <b style={{cursor:'alias',color:'blue'}}>   Already have an account? Sign in</b>\n                 </Link>\n\n                {/* <Link to=\"/users/login\" variant=\"body2\">\n                  Already have an account? Sign in\n                </Link> */}\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n        <Copyright sx={{ mt: 5 }} />\n      </Container>\n    </ThemeProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}