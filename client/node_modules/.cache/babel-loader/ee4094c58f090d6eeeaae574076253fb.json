{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import jwt from\"jsonwebtoken\";import{Redirect}from'react-router-dom';import'./Host-New-Question.css';import'./Host-Question.css';import'./Host.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit_Question=/*#__PURE__*/function(_Component){_inherits(Edit_Question,_Component);var _super=_createSuper(Edit_Question);function Edit_Question(){var _this;_classCallCheck(this,Edit_Question);_this=_super.call(this);_this.state={quizId:0,id:0,question:'',answer1:'',answer2:'',answer3:'',answer4:'',correctAnswer:''};return _this;}_createClass(Edit_Question,[{key:\"componentDidMount\",value:function componentDidMount(){var token=localStorage.getItem(\"token\");this.getQuestion();}},{key:\"getQuestion\",value:function(){var _getQuestion=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response,question;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem(\"token\");_context.next=3;return axios.get(\"https://secure-ravine-99917.herokuapp.com/quizquestions/getQuestion/\".concat(this.props.match.params.id),{headers:{'auth-token':token}});case 3:response=_context.sent;console.log(\"response\",response.data[0]);question=response.data[0];this.setState({quizId:question.quizId,id:question._id,question:question.question,answer1:question.answer1,answer2:question.answer2,answer3:question.answer3,answer4:question.answer4,correctAnswer:question.correctAnswer,redirect:false});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function getQuestion(){return _getQuestion.apply(this,arguments);}return getQuestion;}()},{key:\"updateQuestion\",value:function(){var _updateQuestion=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,question,answer1,answer2,answer3,answer4,correctAnswer,id,quizId,token,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=this.state,question=_this$state.question,answer1=_this$state.answer1,answer2=_this$state.answer2,answer3=_this$state.answer3,answer4=_this$state.answer4,correctAnswer=_this$state.correctAnswer,id=_this$state.id,quizId=_this$state.quizId;if(!(question&&answer1&&answer2&&answer3&&answer4&&correctAnswer&&id)){_context2.next=12;break;}console.log(\"id is \".concat(id));console.log(\"quizId is \".concat(quizId));token=localStorage.getItem(\"token\");// var decoded = jwt.decode(token);\n// if (decoded.exp * 1000 <= Date.now()) {\n//     this.props.history.push(\"/users/login\");\n// } else {\n_context2.next=7;return axios.put(\"https://secure-ravine-99917.herokuapp.com/quizquestions/updateQuestion/\".concat(quizId,\"/\").concat(id),{question:question,answer1:answer1,answer2:answer2,answer3:answer3,answer4:answer4,correctAnswer:correctAnswer},{headers:{'auth-token':token}});case 7:response=_context2.sent;console.log(\"response\",response);if(response.status===200){this.setState({redirect:true});}else{alert('Something went wrong :(');}// }\n_context2.next=13;break;case 12:alert('All fields must be completed');case 13:case\"end\":return _context2.stop();}}},_callee2,this);}));function updateQuestion(){return _updateQuestion.apply(this,arguments);}return updateQuestion;}()},{key:\"render\",value:function render(){var _this2=this;if(this.state.redirect){var userId=this.props.match.params.userId;return/*#__PURE__*/_jsx(Redirect,{to:\"/quiz/questions\"});}return/*#__PURE__*/ (// Used a bunch of arrow functions here instead of binding at top - Nate\n_jsxs(\"div\",{className:\"mapped-container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/host/questions\",className:\"btn-link\",children:\"go back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-q\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Question\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.question,onChange:function onChange(e){return _this2.setState({question:e.target.value});}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-q\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Answer1\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.answer1,onChange:function onChange(e){return _this2.setState({answer1:e.target.value});}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-q\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Answer2\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.answer2,onChange:function onChange(e){return _this2.setState({answer2:e.target.value});}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-q\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Answer3\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.answer3,onChange:function onChange(e){return _this2.setState({answer3:e.target.value});}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-q\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Answer4\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.answer4,onChange:function onChange(e){return _this2.setState({answer4:e.target.value});}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-q\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Correct Answer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"4\",value:this.state.correctAnswer,onChange:function onChange(e){return _this2.setState({correctAnswer:e.target.value});}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.updateQuestion();},children:\"Update\"})]})]}));}}]);return Edit_Question;}(Component);export{Edit_Question as default};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Backend_Kahoot-main3/client/src/components/Host/Edit_Question.js"],"names":["React","Component","Link","axios","jwt","Redirect","Edit_Question","state","quizId","id","question","answer1","answer2","answer3","answer4","correctAnswer","token","localStorage","getItem","getQuestion","get","props","match","params","headers","response","console","log","data","setState","_id","redirect","put","status","alert","userId","e","target","value","updateQuestion"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport axios from 'axios';\nimport jwt from \"jsonwebtoken\";\nimport { Redirect } from 'react-router-dom';\nimport './Host-New-Question.css';\nimport './Host-Question.css'\nimport './Host.css';\nexport default class Edit_Question extends Component {\n    constructor() {\n        super();\n        this.state = {\n            quizId: 0,\n            id: 0,\n            question: '',\n            answer1: '',\n            answer2: '',\n            answer3: '',\n            answer4: '',\n            correctAnswer: ''\n        }\n       \n    }\n    componentDidMount() {\n        const token = localStorage.getItem(\"token\");\n            this.getQuestion();\n        }\n    async getQuestion() {\n        const token = localStorage.getItem(\"token\");\n        var response = await axios.get(`https://secure-ravine-99917.herokuapp.com/quizquestions/getQuestion/${this.props.match.params.id}`, {\n            headers: {\n                'auth-token': token\n            }\n        })\n        console.log(\"response\", response.data[0])\n        let question = response.data[0];\n        this.setState({\n            quizId: question.quizId,\n            id: question._id,\n            question: question.question,\n            answer1: question.answer1,\n            answer2: question.answer2,\n            answer3: question.answer3,\n            answer4: question.answer4,\n            correctAnswer: question.correctAnswer,\n            redirect: false\n        })\n\n    }\n    async updateQuestion() {\n      \n        let { question, answer1, answer2, answer3, answer4, correctAnswer, id, quizId } = this.state;\n        if (question && answer1 && answer2 && answer3 && answer4 && correctAnswer && id) {\n            console.log(`id is ${id}`);\n            console.log(`quizId is ${quizId}`);\n            const token = localStorage.getItem(\"token\");\n            // var decoded = jwt.decode(token);\n            // if (decoded.exp * 1000 <= Date.now()) {\n            //     this.props.history.push(\"/users/login\");\n            // } else {\n                var response = await axios.put(`https://secure-ravine-99917.herokuapp.com/quizquestions/updateQuestion/${quizId}/${id}`, { question, answer1, answer2, answer3, answer4, correctAnswer }, {\n                    headers: {\n                        'auth-token': token\n                    }\n                });\n                console.log(\"response\", response);\n                if (response.status === 200) {\n                    this.setState({\n                        redirect: true\n                    })\n                } else {\n                    alert('Something went wrong :(')\n                }\n            // }\n        } else {\n            alert('All fields must be completed')\n        }\n    }\n    render() {\n        if (this.state.redirect) {\n            var userId = this.props.match.params.userId;\n            return <Redirect to={`/quiz/questions`} />\n        }\n        return (\n            // Used a bunch of arrow functions here instead of binding at top - Nate\n            <div className='mapped-container'>\n                <Link to='/host/questions' className='btn-link'>\n                    go back\n                </Link>\n                <div className='new-q'>\n                    <label>Question</label>\n                    <input value={this.state.question} onChange={(e) => this.setState({ question: e.target.value })} />\n                </div>\n                <br />\n                <div className='new-q'>\n                    <label>Answer1</label>\n                    <input value={this.state.answer1} onChange={(e) => this.setState({ answer1: e.target.value })} />\n                </div>\n                <br />\n                <div className='new-q'>\n                    <label>Answer2</label>\n                    <input value={this.state.answer2} onChange={(e) => this.setState({ answer2: e.target.value })} />\n                </div>\n                <br />\n                <div className='new-q'>\n                    <label>Answer3</label>\n                    <input value={this.state.answer3} onChange={(e) => this.setState({ answer3: e.target.value })} />\n                </div>\n                <br />\n                <div className='new-q'>\n                    <label>Answer4</label>\n                    <input value={this.state.answer4} onChange={(e) => this.setState({ answer4: e.target.value })} />\n                </div>\n                <br />\n                <div className='new-q'>\n                    <label>Correct Answer</label>\n                    <input type='number' min='1' max='4' value={this.state.correctAnswer} onChange={(e) => this.setState({ correctAnswer: e.target.value })} />\n                    <button onClick={() => this.updateQuestion()}>Update</button>\n                </div>\n\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}